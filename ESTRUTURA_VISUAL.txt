╔══════════════════════════════════════════════════════════════════╗
║       SISTEMA COMPLETO DE COMBATE + DATAMANAGER - ROBLOX        ║
╚══════════════════════════════════════════════════════════════════╝

📁 ESTRUTURA DE PASTAS E ARQUIVOS
═══════════════════════════════════════════════════════════════════

📦 ReplicatedStorage
│
├── 📁 Modules
│   ├── 📄 GameConfig.lua (ModuleScript)
│   │   └── Configurações: dano, XP, economia, conquistas
│   │
│   ├── 📄 UtilityFunctions.lua (ModuleScript)
│   │   └── Funções auxiliares: formatação, cálculos, efeitos
│   │
│   ├── 📄 RelicData.lua (ModuleScript)
│   │   └── Sistema de relíquias e bônus
│   │
│   └── 📄 RemoteEvents.lua (ModuleScript)
│       └── Comunicação cliente-servidor
│
└── 📁 Remotes (criado automaticamente)
    ├── AttackEvent
    ├── AttackFeedback
    ├── DataUpdate
    ├── RequestData
    └── ... (outros eventos)


📦 ServerScriptService
│
├── 📁 Core
│   └── 📄 DataManager.lua (Script) ⭐ PRINCIPAL
│       ├── Carrega/salva dados do DataStore
│       ├── Gerencia XP, level, economia
│       ├── Sistema de conquistas automático
│       ├── Rastreia tempo de jogo
│       ├── Auto-save a cada 5 minutos
│       └── Cria leaderstats
│
└── 📁 Systems
    └── 📄 CombatServer.lua (Script)
        ├── Processa ataques
        ├── Calcula dano com bônus
        ├── Gerencia NPCs e respawn
        ├── Distribui recompensas
        └── Sistema de captura de sombras


📦 StarterPlayer
│
└── 📁 StarterCharacterScripts
    └── 📄 CombatClient.lua (LocalScript)
        ├── Detecta cliques do mouse
        ├── Gerencia cooldowns locais
        ├── Envia ataques para servidor
        ├── Toca animações
        └── Recebe feedback visual


📦 StarterGui
│
├── 📄 PlayerUI.lua (LocalScript) ⭐ HUD PRINCIPAL
│   ├── Painel de status (Level, XP, Cash, Diamantes)
│   ├── Barra de XP animada
│   ├── Tempo jogado
│   ├── Painel de combate (botões de estilo)
│   ├── Sistema de notificações
│   └── Atualização em tempo real
│
└── 📄 MenuUI.lua (LocalScript) ⭐ MENU DETALHADO
    ├── Abre com TAB
    ├── 📊 Aba Estatísticas
    ├── 🏆 Aba Conquistas
    ├── 🎒 Aba Inventário
    └── 🧞‍♂️ Aba Sombras


📦 Workspace
│
└── 📦 NPC (Model)
    ├── 👤 Humanoid
    ├── 🎯 HumanoidRootPart
    ├── 🦵 LeftLeg, RightLeg, etc
    │
    ├── 🏷️ Tag: "Enemy" (obrigatório)
    ├── 🏷️ Tag: "Boss" (opcional, 5x recompensas)
    │
    └── 📊 Attribute: "Level" (opcional, padrão = 1)


═══════════════════════════════════════════════════════════════════
📡 FLUXO DE COMUNICAÇÃO
═══════════════════════════════════════════════════════════════════

1️⃣ JOGADOR ENTRA
   ↓
   DataManager.lua (Servidor)
   ├── Carrega dados do DataStore
   ├── Cria leaderstats
   ├── Inicia rastreamento de tempo
   └── Envia dados para o cliente
   ↓
   PlayerUI.lua (Cliente)
   └── Cria interface com dados recebidos

2️⃣ JOGADOR ATACA
   ↓
   CombatClient.lua (Cliente)
   ├── Detecta clique
   ├── Verifica cooldown local
   ├── Calcula posição de ataque
   └── Envia AttackEvent → Servidor
   ↓
   CombatServer.lua (Servidor)
   ├── Valida cooldown do servidor
   ├── Busca NPCs na área
   ├── Calcula dano (base + bônus de relíquias + level)
   ├── Aplica dano aos NPCs
   └── Se NPC morreu:
       ├── Adiciona XP (DataManager)
       ├── Adiciona Cash (DataManager)
       ├── Atualiza estatísticas (DataManager)
       ├── Verifica conquistas (DataManager)
       ├── Tenta capturar sombra (15% chance)
       ├── Envia feedback → Cliente
       └── Agenda respawn do NPC
   ↓
   PlayerUI.lua (Cliente)
   ├── Recebe DataUpdate
   ├── Atualiza XP, Cash, Level na UI
   └── Mostra notificação se level up ou conquista

3️⃣ AUTO-SAVE (a cada 5 minutos)
   ↓
   DataManager.lua (Servidor)
   ├── Para cada jogador online:
   │   └── Salva dados no DataStore
   └── Printa no console: "✅ Auto-save concluído: X jogadores"

4️⃣ JOGADOR SAI
   ↓
   DataManager.lua (Servidor)
   ├── Salva dados no DataStore
   ├── Para rastreamento de tempo
   └── Remove do cache


═══════════════════════════════════════════════════════════════════
🎮 INTERFACE DO USUÁRIO
═══════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────┐
│                       TELA DO JOGO                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────┐               ┌──────────────────┐    │
│  │ Player123 | Nível 5 │               │ ⏰ 02:30:45     │    │
│  │ ▓▓▓▓▓▓▓░░░ 350/500  │               └──────────────────┘    │
│  │ 💰 1,250  💎 75     │                                       │
│  └─────────────────────┘                                       │
│                                                                 │
│  ┌─────────────────┐                                           │
│  │ ⚔️ COMBATE      │           [NPC Aqui]                      │
│  │ ┌─────────────┐ │                                           │
│  │ │ Soco   15⚔️ │ │← Selecionado (verde)                     │
│  │ │ Espada 30⚔️ │ │                                           │
│  │ └─────────────┘ │                                           │
│  └─────────────────┘                                           │
│                                                                 │
│                                                                 │
│                                                                 │
│            [Clique para atacar | TAB para menu]                │
└─────────────────────────────────────────────────────────────────┘

PRESSIONA TAB:

┌─────────────────────────────────────────────────────────────────┐
│  📊 PERFIL DO JOGADOR                              [✕]          │
├──────────────┬──────────────────────────────────────────────────┤
│              │                                                  │
│ 📊 Stats     │  📊 SUAS ESTATÍSTICAS                           │
│              │                                                  │
│ 🏆 Conquistas│  ⚔️ Inimigos Derrotados ................ 127    │
│              │  💀 Chefes Derrotados .................. 12     │
│ 🎒 Inventário│  🧞‍♂️ Sombras Capturadas ................ 8      │
│              │  🏰 Dungeons Completas ................. 5      │
│ 🧞‍♂️ Sombras  │  ⚡ Raids Completas .................... 2      │
│              │  💥 Dano Causado ..................... 15.2K    │
│              │  💔 Dano Recebido .................... 8.7K     │
│              │  ☠️ Mortes ............................ 3       │
│              │  ⏰ Tempo Jogado .................. 02:30:45    │
│              │                                                  │
└──────────────┴──────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════
💾 ESTRUTURA DE DADOS SALVOS
═══════════════════════════════════════════════════════════════════

PlayerData = {
    -- 📈 Progressão
    Level = 5,
    XP = 350,
    
    -- 💰 Economia
    Cash = 1250,
    Diamonds = 75,
    Fragments = 0,
    
    -- ⚔️ Combate
    WeaponType = "Sword",
    EquippedWeapon = nil,
    
    -- 🧞‍♂️ Sombras
    Shadows = {
        {ID = "Goblin_123", Name = "Goblin", Level = 3},
        {ID = "Orc_456", Name = "Orc", Level = 5},
        ...
    },
    ActiveShadow = nil,
    ShadowSlots = 5,
    
    -- 🎒 Inventário
    Inventory = {
        Weapons = {},
        Relics = {},
        Consumables = {}
    },
    
    -- 🧿 Relíquias Equipadas (máx 3)
    EquippedRelics = {"xp_boost_1", "damage_boost_1"},
    
    -- 🧪 Estatísticas
    Stats = {
        TotalKills = 127,
        BossKills = 12,
        ShadowsCaptured = 8,
        DamageDealt = 15234,
        DamageTaken = 8765,
        DeathCount = 3,
        ...
    },
    
    -- 🎯 Conquistas
    Achievements = {"first_kill", "warrior", "level_10"},
    
    -- ⏰ Timestamps
    PlayTime = 9045, -- em segundos
    LastSave = 1234567890,
    CreatedAt = 1234567890,
    LastLogin = 1234567890
}


═══════════════════════════════════════════════════════════════════
🎯 SISTEMA DE CONQUISTAS
═══════════════════════════════════════════════════════════════════

VERIFICAÇÃO AUTOMÁTICA ocorre quando:
├── Jogador mata NPC → Verifica Kills, BossKills
├── Jogador sobe de nível → Verifica Level
├── Tempo de jogo atualiza → Verifica PlayTime
└── Sombra capturada → Verifica ShadowsCaptured

QUANDO DESBLOQUEADA:
├── ✅ Adiciona à lista de conquistas
├── 💰 Concede recompensas (Cash, XP, Diamantes)
├── 📢 Mostra notificação na tela
└── 💾 Salva no DataStore


═══════════════════════════════════════════════════════════════════
🔧 CHECKLIST DE INSTALAÇÃO
═══════════════════════════════════════════════════════════════════

ReplicatedStorage:
  └── Modules/
      ├── [✓] GameConfig.lua (ModuleScript)
      ├── [✓] UtilityFunctions.lua (ModuleScript)
      ├── [✓] RelicData.lua (ModuleScript)
      └── [✓] RemoteEvents.lua (ModuleScript)

ServerScriptService:
  ├── Core/
  │   └── [✓] DataManager.lua (Script)
  └── Systems/
      └── [✓] CombatServer.lua (Script)

StarterPlayer:
  └── StarterCharacterScripts/
      └── [✓] CombatClient.lua (LocalScript)

StarterGui:
  ├── [✓] PlayerUI.lua (LocalScript)
  └── [✓] MenuUI.lua (LocalScript)

Workspace:
  └── [✓] NPC com tag "Enemy"

Configurações:
  └── [✓] API Services ativado


═══════════════════════════════════════════════════════════════════
✅ SISTEMA COMPLETO E FUNCIONAL!
═══════════════════════════════════════════════════════════════════
